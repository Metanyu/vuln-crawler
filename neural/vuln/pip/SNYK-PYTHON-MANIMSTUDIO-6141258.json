{
    "CVSSv3": {
        "CVSS": "3.1",
        "attackVector": "NETWORK",
        "attackComplexity": "LOW",
        "privilegesRequired": "NONE",
        "userInteraction": "NONE",
        "scope": "UNCHANGED",
        "confidentiality": "HIGH",
        "integrity": "HIGH",
        "availability": "HIGH"
    },
    "credit": [
        "Unknown"
    ],
    "cvssDetails": [],
    "cvssScore": 9.8,
    "disclosureTime": "2024-01-01 06:33:59",
    "epssDetails": null,
    "exploitMaturity": "Not Defined",
    "id": "SNYK-PYTHON-MANIMSTUDIO-6141258",
    "identifiers": {
        "CVE": [],
        "CWE": [
            "CWE-94"
        ],
        "PVE": [
            "PVE-2023-63061"
        ]
    },
    "language": "python",
    "malicious": false,
    "packageManager": "pip",
    "publicationTime": "2024-01-02 13:55:05",
    "remediation": "Upgrade manim-studio to version 0.6.8 or higher. ",
    "severity": "critical",
    "socialTrendAlert": false,
    "title": "Remote Code Execution (RCE)",
    "vulnDescription": {
        "Overview": "manim-studio is an A GUI to easier make Manim animations Affected versions of this package are vulnerable to Remote Code Execution (RCE) in live_scene.py , which accepts and executes inline code without sanitization. "
    },
    "source_code": [
        {
            "filename": "docs/_build/html/.buildinfo",
            "diff": "@@ -1,4 +1,4 @@\n # Sphinx build info version 1\n # This file hashes the configuration used when building these files. When it is not found, a full rebuild will be done.\n-config: b90f0f736047245f9b39a98498abb59c\n+config: e6e707689604c9313aa5d4cc90e6e441\n tags: 645f666f9bcd5a90fca523b33c5a78b7"
        },
        {
            "filename": "docs/_build/html/_static/documentation_options.js",
            "diff": "@@ -1,5 +1,5 @@\n const DOCUMENTATION_OPTIONS = {\n-    VERSION: '0.6.6',\n+    VERSION: '0.6.8',\n     LANGUAGE: 'en',\n     COLLAPSE_INDEX: false,\n     BUILDER: 'html',"
        },
        {
            "filename": "docs/_build/html/genindex.html",
            "diff": "@@ -4,7 +4,7 @@\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>\n     <meta name=\"color-scheme\" content=\"light dark\"><link rel=\"index\" title=\"Index\" href=\"#\" /><link rel=\"search\" title=\"Search\" href=\"search.html\" />\n \n-    <link rel=\"shortcut icon\" href=\"_static/favicon.ico\"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 --><title>Index - Manim Studio 0.6.6</title>\n+    <link rel=\"shortcut icon\" href=\"_static/favicon.ico\"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 --><title>Index - Manim Studio 0.6.8</title>\n <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css?v=a746c00c\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo.css?v=135e06be\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo-extensions.css?v=36a5483c\" />\n@@ -121,7 +121,7 @@\n       </label>\n     </div>\n     <div class=\"header-center\">\n-      <a href=\"index.html\"><div class=\"brand\">Manim Studio 0.6.6</div></a>\n+      <a href=\"index.html\"><div class=\"brand\">Manim Studio 0.6.8</div></a>\n     </div>\n     <div class=\"header-right\">\n       <div class=\"theme-toggle-container theme-toggle-header\">\n@@ -147,7 +147,7 @@\n     <img class=\"sidebar-logo\" src=\"_static/transparent-light.png\" alt=\"Logo\"/>\n   </div>\n   \n-  <span class=\"sidebar-brand-text\">Manim Studio 0.6.6</span>\n+  <span class=\"sidebar-brand-text\">Manim Studio 0.6.8</span>\n   \n </a><form class=\"sidebar-search-container\" method=\"get\" action=\"search.html\" role=\"search\">\n   <input class=\"sidebar-search\" placeholder=\"Search\" name=\"q\" aria-label=\"Search\">\n@@ -228,7 +228,7 @@ <h1 id=\"index\">Index</h1>\n       \n     </aside>\n   </div>\n-</div><script src=\"_static/documentation_options.js?v=e059a73d\"></script>\n+</div><script src=\"_static/documentation_options.js?v=ac3b80e6\"></script>\n     <script src=\"_static/doctools.js?v=888ff710\"></script>\n     <script src=\"_static/sphinx_highlight.js?v=dc90522c\"></script>\n     <script src=\"_static/scripts/furo.js?v=32e29ea5\"></script>"
        },
        {
            "filename": "docs/_build/html/getting_started.html",
            "diff": "@@ -6,7 +6,7 @@\n <link rel=\"index\" title=\"Index\" href=\"genindex.html\" /><link rel=\"search\" title=\"Search\" href=\"search.html\" /><link rel=\"prev\" title=\"Welcome to Manim Studio\u2019s documentation!\" href=\"index.html\" />\n \n     <link rel=\"shortcut icon\" href=\"_static/favicon.ico\"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->\n-        <title>Getting Started - Manim Studio 0.6.6</title>\n+        <title>Getting Started - Manim Studio 0.6.8</title>\n       <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css?v=a746c00c\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo.css?v=135e06be\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo-extensions.css?v=36a5483c\" />\n@@ -123,7 +123,7 @@\n       </label>\n     </div>\n     <div class=\"header-center\">\n-      <a href=\"index.html\"><div class=\"brand\">Manim Studio 0.6.6</div></a>\n+      <a href=\"index.html\"><div class=\"brand\">Manim Studio 0.6.8</div></a>\n     </div>\n     <div class=\"header-right\">\n       <div class=\"theme-toggle-container theme-toggle-header\">\n@@ -149,7 +149,7 @@\n     <img class=\"sidebar-logo\" src=\"_static/transparent-light.png\" alt=\"Logo\"/>\n   </div>\n   \n-  <span class=\"sidebar-brand-text\">Manim Studio 0.6.6</span>\n+  <span class=\"sidebar-brand-text\">Manim Studio 0.6.8</span>\n   \n </a><form class=\"sidebar-search-container\" method=\"get\" action=\"search.html\" role=\"search\">\n   <input class=\"sidebar-search\" placeholder=\"Search\" name=\"q\" aria-label=\"Search\">\n@@ -463,7 +463,7 @@ <h2>Other interesting features<a class=\"headerlink\" href=\"#other-interesting-fea\n       \n     </aside>\n   </div>\n-</div><script src=\"_static/documentation_options.js?v=e059a73d\"></script>\n+</div><script src=\"_static/documentation_options.js?v=ac3b80e6\"></script>\n     <script src=\"_static/doctools.js?v=888ff710\"></script>\n     <script src=\"_static/sphinx_highlight.js?v=dc90522c\"></script>\n     <script src=\"_static/scripts/furo.js?v=32e29ea5\"></script>"
        },
        {
            "filename": "docs/_build/html/index.html",
            "diff": "@@ -6,7 +6,7 @@\n <link rel=\"index\" title=\"Index\" href=\"genindex.html\" /><link rel=\"search\" title=\"Search\" href=\"search.html\" /><link rel=\"next\" title=\"Getting Started\" href=\"getting_started.html\" />\n \n     <link rel=\"shortcut icon\" href=\"_static/favicon.ico\"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 -->\n-        <title>Manim Studio 0.6.6</title>\n+        <title>Manim Studio 0.6.8</title>\n       <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css?v=a746c00c\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo.css?v=135e06be\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo-extensions.css?v=36a5483c\" />\n@@ -123,7 +123,7 @@\n       </label>\n     </div>\n     <div class=\"header-center\">\n-      <a href=\"#\"><div class=\"brand\">Manim Studio 0.6.6</div></a>\n+      <a href=\"#\"><div class=\"brand\">Manim Studio 0.6.8</div></a>\n     </div>\n     <div class=\"header-right\">\n       <div class=\"theme-toggle-container theme-toggle-header\">\n@@ -149,7 +149,7 @@\n     <img class=\"sidebar-logo\" src=\"_static/transparent-light.png\" alt=\"Logo\"/>\n   </div>\n   \n-  <span class=\"sidebar-brand-text\">Manim Studio 0.6.6</span>\n+  <span class=\"sidebar-brand-text\">Manim Studio 0.6.8</span>\n   \n </a><form class=\"sidebar-search-container\" method=\"get\" action=\"search.html\" role=\"search\">\n   <input class=\"sidebar-search\" placeholder=\"Search\" name=\"q\" aria-label=\"Search\">\n@@ -266,7 +266,7 @@ <h1>Indices and tables<a class=\"headerlink\" href=\"#indices-and-tables\" title=\"Li\n       \n     </aside>\n   </div>\n-</div><script src=\"_static/documentation_options.js?v=e059a73d\"></script>\n+</div><script src=\"_static/documentation_options.js?v=ac3b80e6\"></script>\n     <script src=\"_static/doctools.js?v=888ff710\"></script>\n     <script src=\"_static/sphinx_highlight.js?v=dc90522c\"></script>\n     <script src=\"_static/scripts/furo.js?v=32e29ea5\"></script>"
        },
        {
            "filename": "docs/_build/html/search.html",
            "diff": "@@ -4,7 +4,7 @@\n     <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/>\n     <meta name=\"color-scheme\" content=\"light dark\"><link rel=\"index\" title=\"Index\" href=\"genindex.html\" /><link rel=\"search\" title=\"Search\" href=\"#\" />\n \n-    <link rel=\"shortcut icon\" href=\"_static/favicon.ico\"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 --><title>Search - Manim Studio 0.6.6</title><link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css?v=a746c00c\" />\n+    <link rel=\"shortcut icon\" href=\"_static/favicon.ico\"/><!-- Generated with Sphinx 7.2.6 and Furo 2023.09.10 --><title>Search - Manim Studio 0.6.8</title><link rel=\"stylesheet\" type=\"text/css\" href=\"_static/pygments.css?v=a746c00c\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo.css?v=135e06be\" />\n     <link rel=\"stylesheet\" type=\"text/css\" href=\"_static/styles/furo-extensions.css?v=36a5483c\" />\n     \n@@ -120,7 +120,7 @@\n       </label>\n     </div>\n     <div class=\"header-center\">\n-      <a href=\"index.html\"><div class=\"brand\">Manim Studio 0.6.6</div></a>\n+      <a href=\"index.html\"><div class=\"brand\">Manim Studio 0.6.8</div></a>\n     </div>\n     <div class=\"header-right\">\n       <div class=\"theme-toggle-container theme-toggle-header\">\n@@ -146,7 +146,7 @@\n     <img class=\"sidebar-logo\" src=\"_static/transparent-light.png\" alt=\"Logo\"/>\n   </div>\n   \n-  <span class=\"sidebar-brand-text\">Manim Studio 0.6.6</span>\n+  <span class=\"sidebar-brand-text\">Manim Studio 0.6.8</span>\n   \n </a><form class=\"sidebar-search-container\" method=\"get\" action=\"#\" role=\"search\">\n   <input class=\"sidebar-search\" placeholder=\"Search\" name=\"q\" aria-label=\"Search\">\n@@ -233,7 +233,7 @@\n       \n     </aside>\n   </div>\n-</div><script src=\"_static/documentation_options.js?v=e059a73d\"></script>\n+</div><script src=\"_static/documentation_options.js?v=ac3b80e6\"></script>\n     <script src=\"_static/doctools.js?v=888ff710\"></script>\n     <script src=\"_static/sphinx_highlight.js?v=dc90522c\"></script>\n     <script src=\"_static/scripts/furo.js?v=32e29ea5\"></script>"
        },
        {
            "filename": "poetry.lock",
            "diff": "@@ -211,69 +211,62 @@ files = [\n \n [[package]]\n name = \"cython\"\n-version = \"3.0.6\"\n+version = \"3.0.7\"\n description = \"The Cython compiler for writing C extensions in the Python language.\"\n optional = false\n python-versions = \">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*\"\n files = [\n-    {file = \"Cython-3.0.6-cp310-cp310-macosx_10_9_x86_64.whl\", hash = \"sha256:0fcdfbf6fc7d0bd683d55e617c3d5a5f25b28ce8b405bc1e89054fc7c52a97e5\"},\n-    {file = \"Cython-3.0.6-cp310-cp310-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:ccbee314f8d15ee8ddbe270859dda427e1187123f2c7c41526d1f260eee6c8f7\"},\n-    {file = \"Cython-3.0.6-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:14b992f36ffa1294921fca5f6488ea192fadd75770dc64fa25975379382551e9\"},\n-    {file = \"Cython-3.0.6-cp310-cp310-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:2ca2e90a75d405070f3c41e701bb8005892f14d42322f1d8fd00a61d660bbae7\"},\n-    {file = \"Cython-3.0.6-cp310-cp310-musllinux_1_1_aarch64.whl\", hash = \"sha256:4121c1160bc1bd8828546e8ce45906bd9ff27799d14747ce3fbbc9d67efbb1b8\"},\n-    {file = \"Cython-3.0.6-cp310-cp310-musllinux_1_1_x86_64.whl\", hash = \"sha256:519814b8f80869ee5f9ee2cb2363e5c310067c0298cbea291c556b22da1ef6ae\"},\n-    {file = \"Cython-3.0.6-cp310-cp310-win32.whl\", hash = \"sha256:b029d8c754ef867ab4d67fc2477dde9782bf0409cb8e4024a7d29cf5aff37530\"},\n-    {file = \"Cython-3.0.6-cp310-cp310-win_amd64.whl\", hash = \"sha256:2262390f453eedf600e084b074144286576ed2a56bb7fbfe15ad8d9499eceb52\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-macosx_10_9_x86_64.whl\", hash = \"sha256:dfe8c7ac60363769ed8d91fca26398aaa9640368ab999a79b0ccb5e788d3bcf8\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:9e31a9b18ec6ce57eb3479df920e6093596fe4ba8010dcc372720040386b4bdb\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:bca2542f1f34f0141475b13777df040c31f2073a055097734a0a793ac3a4fb72\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:b24c1c38dad4bd85e142ccbe2f88122807f8d5a75352321e1e4baf2b293df7c6\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-musllinux_1_1_aarch64.whl\", hash = \"sha256:dc4b4e76c1414584bb55465dfb6f41dd6bd27fd53fb41ddfcaca9edf00c1f80e\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-musllinux_1_1_x86_64.whl\", hash = \"sha256:805a2c532feee09aeed064eaeb7b6ee35cbab650569d0a3756975f3cc4f246cf\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-win32.whl\", hash = \"sha256:dcdb9a177c7c385fe0c0709a9a6790b6508847d67dcac76bb65a2c7ea447efe5\"},\n-    {file = \"Cython-3.0.6-cp311-cp311-win_amd64.whl\", hash = \"sha256:b8640b7f6503292c358cef925df5a69adf230045719893ffe20ad98024fdf7ae\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-macosx_10_9_x86_64.whl\", hash = \"sha256:16b3b02cc7b3bc42ee1a0118b1465ca46b0f3fb32d003e6f1a3a352a819bb9a3\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:11e1d9b153573c425846b627bef52b3b99cb73d4fbfbb136e500a878d4b5e803\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:85a7a406f78c2f297bf82136ff5deac3150288446005ed1e56552a9e3ac1469f\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:88be4fbc760de8f313df89ca8256098c0963c9ec72f3aa88538384b80ef1a6ef\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-musllinux_1_1_aarch64.whl\", hash = \"sha256:ea2e5a7c503b41618bfb10e4bc610f780ab1c729280531b5cabb24e05aa21cf2\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-musllinux_1_1_x86_64.whl\", hash = \"sha256:2d296b48e1410cab50220a28a834167f2d7ac6c0e7de12834d66e42248a1b0f6\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-win32.whl\", hash = \"sha256:7f19e99c6e334e9e30dfa844c3ca4ac09931b94dbba406c646bde54687aed758\"},\n-    {file = \"Cython-3.0.6-cp312-cp312-win_amd64.whl\", hash = \"sha256:9cae02e26967ffb6503c6e91b77010acbadfb7189a5a11d6158d634fb0f73679\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-macosx_10_9_x86_64.whl\", hash = \"sha256:cb6a54543869a5b0ad009d86eb0ebc0879fab838392bfd253ad6d4f5e0f17d84\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:8d2d9e53bf021cc7a5c7b6b537b5b5a7ba466ba7348d498aa17499d0ad12637e\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:05d15854b2b363b35c755d22015c1c2fc590b8128202f8c9eb85578461101d9c\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:e5548316497a3b8b2d9da575ea143476472db90dee73c67def061621940f78ae\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-musllinux_1_1_aarch64.whl\", hash = \"sha256:9b853e0855e4b3d164c05b24718e5e2df369e5af54f47cb8d923c4f497dfc92c\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-musllinux_1_1_x86_64.whl\", hash = \"sha256:2c77f97f462a40a319dda7e28c1669370cb26f9175f3e8f9bab99d2f8f3f2f09\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-win32.whl\", hash = \"sha256:3ac8b6734f2cad5640f2da21cd33cf88323547d07e445fb7453ab38ec5033b1f\"},\n-    {file = \"Cython-3.0.6-cp36-cp36m-win_amd64.whl\", hash = \"sha256:8dd5f5f3587909ff71f0562f50e00d4b836c948e56e8f74897b12f38a29e41b9\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-macosx_10_9_x86_64.whl\", hash = \"sha256:9c0472c6394750469062deb2c166125b10411636f63a0418b5c36a60d0c9a96a\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:97081932c8810bb99cb26b4b0402202a1764b58ee287c8b306071d2848148c24\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:e781b3880dfd0d4d37983c9d414bfd5f26c2141f6d763d20ef1964a0a4cb2405\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:ef88c46e91e21772a5d3b6b1e70a6da5fe098154ad4768888129b1c05e93bba7\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-musllinux_1_1_aarch64.whl\", hash = \"sha256:a38b9e7a252ec27dbc21ee8f00f09a896e88285eebb6ed99207b2ff1ea6af28e\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-musllinux_1_1_x86_64.whl\", hash = \"sha256:4975cdaf720d29288ec225b76b4f4471ff03f4f8b51841ba85d6587699ab2ad5\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-win32.whl\", hash = \"sha256:9b89463ea330318461ca47d3e49b5f606e7e82446b6f37e5c19b60392439674c\"},\n-    {file = \"Cython-3.0.6-cp37-cp37m-win_amd64.whl\", hash = \"sha256:0ca8f379b47417bfad98faeb14bf8a3966fc92cf69f8aaf7635cf6885e50d001\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-macosx_10_9_x86_64.whl\", hash = \"sha256:b3dda1e80eb577b9563cee6cf31923a7b88836b9f9be0043ec545b138b95d8e8\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:267e34e9a96f98c379100ef4192994a311678fb5c9af34c83ba5230223577581\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:345d9112fde4ae0347d656f58591fd52017c61a19779c95423bb38735fe4a401\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:25da0e51331ac12ff16cd858d1d836e092c984e1dc45d338166081d3802297c0\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-musllinux_1_1_aarch64.whl\", hash = \"sha256:eebbf09089b4988b9f398ed46f168892e32fcfeec346b15954fdd818aa103456\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-musllinux_1_1_x86_64.whl\", hash = \"sha256:e3ed0c125556324fa49b9e92bea13be7b158fcae6f72599d63c8733688257788\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-win32.whl\", hash = \"sha256:86e1e5a5c9157a547d0a769de59c98a1fc5e46cfad976f32f60423cc6de11052\"},\n-    {file = \"Cython-3.0.6-cp38-cp38-win_amd64.whl\", hash = \"sha256:0d45a84a315bd84d1515cd3571415a0ee0709eb4e2cd4b13668ede928af344a7\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-macosx_10_9_x86_64.whl\", hash = \"sha256:a8e788e64b659bb8fe980bc37da3118e1f7285dec40c5fb293adabc74d4205f2\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:9a77a174c7fb13d80754c8bf9912efd3f3696d13285b2f568eca17324263b3f7\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:1074e84752cd0daf3226823ddbc37cca8bc45f61c94a1db2a34e641f2b9b0797\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:49d5cae02d56e151e1481e614a1af9a0fe659358f2aa5eca7a18f05aa641db61\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-musllinux_1_1_aarch64.whl\", hash = \"sha256:0b94610fa49e36db068446cfd149a42e3246f38a4256bbe818512ac181446b4b\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-musllinux_1_1_x86_64.whl\", hash = \"sha256:fabb2d14dd71add618a7892c40ffec584d1dae1e477caa193778e52e06821d83\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-win32.whl\", hash = \"sha256:ce442c0be72ab014c305399d955b78c3d1e69d5a5ce24398122b605691b69078\"},\n-    {file = \"Cython-3.0.6-cp39-cp39-win_amd64.whl\", hash = \"sha256:8a05f79a0761fc76c42e945e5a9cb5d7986aa9e8e526fdf52bd9ca61a12d4567\"},\n-    {file = \"Cython-3.0.6-py2.py3-none-any.whl\", hash = \"sha256:5921a175ea20779d4443ef99276cfa9a1a47de0e32d593be7679be741c9ed93b\"},\n-    {file = \"Cython-3.0.6.tar.gz\", hash = \"sha256:399d185672c667b26eabbdca420c98564583798af3bc47670a8a09e9f19dd660\"},\n+    {file = \"Cython-3.0.7-cp310-cp310-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:e3c0e19bb41de6be9d8afc85795159ca16296be81a586cd9588be0400d44a855\"},\n+    {file = \"Cython-3.0.7-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:4e8bf00ec1dd1d92e9ae74d2e6891f087a939e1dfb40c9c7fa5d8d6a26c94f5a\"},\n+    {file = \"Cython-3.0.7-cp310-cp310-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:cd6ae43ef2e596c9a88dbf2a8895be2e32cc2f5bc3c8ba2e7753b69068fc0b2d\"},\n+    {file = \"Cython-3.0.7-cp310-cp310-musllinux_1_1_aarch64.whl\", hash = \"sha256:f674be92673e87dd8ee7cfe553d5960ec4effc5ab15063b9a5e265a51585a31a\"},\n+    {file = \"Cython-3.0.7-cp310-cp310-musllinux_1_1_x86_64.whl\", hash = \"sha256:861cf254bf5836d47c2aee86aa75dd93d3de00ccd1b077c3c7a2bb22cba358e7\"},\n+    {file = \"Cython-3.0.7-cp310-cp310-win32.whl\", hash = \"sha256:f6d8ff62ad55dc0393686438eac4b457a916e4d1118a0b550746bb52b4c756cc\"},\n+    {file = \"Cython-3.0.7-cp310-cp310-win_amd64.whl\", hash = \"sha256:e13abb14843397b76d0472c7d33cd260d5f262ab05cc27ed423317e645e29643\"},\n+    {file = \"Cython-3.0.7-cp311-cp311-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:0c636c9ab92c7838231a1ba769e519d953af8294612f3f772a54d3a5250ff23f\"},\n+    {file = \"Cython-3.0.7-cp311-cp311-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:22d2a684122dfb531853d57c8c85c1d5d44be709e12466dca99fa6aee7d8054f\"},\n+    {file = \"Cython-3.0.7-cp311-cp311-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:e1bdf8a107fdf9e174991aa87a0be7504f60de1ec6bfb1ccfb30e33acac818a0\"},\n+    {file = \"Cython-3.0.7-cp311-cp311-musllinux_1_1_aarch64.whl\", hash = \"sha256:3a83e04fde663b84905f3a20213a4333d13a07b79434300704b70dc552761f8b\"},\n+    {file = \"Cython-3.0.7-cp311-cp311-musllinux_1_1_x86_64.whl\", hash = \"sha256:e34b4b08d795ccca920fa26b099558f4f1e4e3f794e4ba8d3433c5bc2454d50a\"},\n+    {file = \"Cython-3.0.7-cp311-cp311-win32.whl\", hash = \"sha256:133057ac45b6fa7fe5d7baada9d3545d09339432f75c0545f556e8c6fecc2932\"},\n+    {file = \"Cython-3.0.7-cp311-cp311-win_amd64.whl\", hash = \"sha256:b65abca78aa5ebc8675c8480b9a53006f6efea9910ad099cf32c9fb5617ef251\"},\n+    {file = \"Cython-3.0.7-cp312-cp312-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:23ceac5315fe899c229e874328742154e331fa41337bb03f6f5264636c351c9e\"},\n+    {file = \"Cython-3.0.7-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:8ea936cf5931297ba07bce121388c4c6266c1b63a9f4d648ae16c92ff090204b\"},\n+    {file = \"Cython-3.0.7-cp312-cp312-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:9fcd9a18ee3ac7f460e0841954feb495102ffbdbec0e6c78562f3495cda000dd\"},\n+    {file = \"Cython-3.0.7-cp312-cp312-musllinux_1_1_aarch64.whl\", hash = \"sha256:7c8d579d13cb81abe704c8b0908d122b81d6e2623265a19c4a6a7377f440debb\"},\n+    {file = \"Cython-3.0.7-cp312-cp312-musllinux_1_1_x86_64.whl\", hash = \"sha256:ef5bb0268bfe5992da3ef9292463a5a895ed8700b134ed2c00008d5471b3ba6e\"},\n+    {file = \"Cython-3.0.7-cp312-cp312-win32.whl\", hash = \"sha256:55f93d3822bc196b37a8bdfa4ec6a35232a399e97f2baa714bd5ed8ea9b0ce68\"},\n+    {file = \"Cython-3.0.7-cp312-cp312-win_amd64.whl\", hash = \"sha256:f3845c4506e0d207c5e268fb02813928f3a1e135de954a379f165ef0d581da47\"},\n+    {file = \"Cython-3.0.7-cp36-cp36m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:8ad7c2303a338b2c0b6c6c68f101a6768725934538756096cf3388a5c07a7525\"},\n+    {file = \"Cython-3.0.7-cp36-cp36m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:fed25959e4025870fdde5f895fcb126196d22affd4f4fad85a2823e0dddc85b0\"},\n+    {file = \"Cython-3.0.7-cp36-cp36m-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:79868ec74e4907a8a6e63effe13547c6157f196a162920b1de066da5849ffb8e\"},\n+    {file = \"Cython-3.0.7-cp36-cp36m-musllinux_1_1_aarch64.whl\", hash = \"sha256:5e3a038332973b12e72236e8884dc99601a840334c2c46cfbbb5851cb94166eb\"},\n+    {file = \"Cython-3.0.7-cp36-cp36m-musllinux_1_1_x86_64.whl\", hash = \"sha256:f2602a5c97a3d618b3b847514204ef3349fb414c59e1126c0c2c708d2c5680f8\"},\n+    {file = \"Cython-3.0.7-cp36-cp36m-win32.whl\", hash = \"sha256:539ad5a21141e6420035cf616bcba48d999bf878839e52692f97fc7e2f16265c\"},\n+    {file = \"Cython-3.0.7-cp36-cp36m-win_amd64.whl\", hash = \"sha256:848a28ea49166454c3bff927e5a47629eecf1aa755d6fb3290569cba0fc93766\"},\n+    {file = \"Cython-3.0.7-cp37-cp37m-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:82f27a0134fc6bb46032ca5f728d8af984f3be94a3cb01cb70ff1224e551b9cf\"},\n+    {file = \"Cython-3.0.7-cp37-cp37m-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:79f20c61114c7948cf1214585066406cef4b54a9b935160980e0b6e70ada3a69\"},\n+    {file = \"Cython-3.0.7-cp37-cp37m-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:34d51709e10ad6213b4bf094af7be7ff82bab43216b3c92a07d05b451deeca79\"},\n+    {file = \"Cython-3.0.7-cp37-cp37m-musllinux_1_1_aarch64.whl\", hash = \"sha256:3f02c7240abab48d59f0d5fef7064f18f01a2a204616165fa6367a8abf5a8832\"},\n+    {file = \"Cython-3.0.7-cp37-cp37m-musllinux_1_1_x86_64.whl\", hash = \"sha256:225f8bba6428b8d711ca2d6c738d2e3a4667f6a2ae40f8a7a5256f69f6a3600e\"},\n+    {file = \"Cython-3.0.7-cp37-cp37m-win32.whl\", hash = \"sha256:30eb2d2938b9195e2c82951713429aff3ad1be9f104437d1536a04eb0cb3dc0e\"},\n+    {file = \"Cython-3.0.7-cp37-cp37m-win_amd64.whl\", hash = \"sha256:167b3f3894dcc697cefefac1d198304fae8eb4d5860a7b8bc2459d572e838470\"},\n+    {file = \"Cython-3.0.7-cp38-cp38-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:2c67105f2c6ccf5b3adbcfaecf3c5c9fa8940f9f97955c9ad7d2542151d97d93\"},\n+    {file = \"Cython-3.0.7-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:6a1859af761977530df2cd5c36e31d54e8d6708ad2c4656e7125c482364dc216\"},\n+    {file = \"Cython-3.0.7-cp38-cp38-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:01b94304aab87496e81d1f546e71abf57b430b39be4269df1cd7da9928d70b5b\"},\n+    {file = \"Cython-3.0.7-cp38-cp38-musllinux_1_1_aarch64.whl\", hash = \"sha256:931aade65f77cf59f2a702ac1f549a4836ce221107c740502cbad18d6d8e9511\"},\n+    {file = \"Cython-3.0.7-cp38-cp38-musllinux_1_1_x86_64.whl\", hash = \"sha256:812b193c26553f1f375d4f1c50f805c227b24ed2d595bc9cdaf78c992ecc64a4\"},\n+    {file = \"Cython-3.0.7-cp38-cp38-win32.whl\", hash = \"sha256:b227643d8a40b68554dc7d37fcd03fc97b4fb0bd2614aeb5f2e07ab244642d36\"},\n+    {file = \"Cython-3.0.7-cp38-cp38-win_amd64.whl\", hash = \"sha256:0d8a98c7d86ac4d05b251c39faf49423780381aab55fbf2e147f6e006a34a58a\"},\n+    {file = \"Cython-3.0.7-cp39-cp39-manylinux_2_17_aarch64.manylinux2014_aarch64.whl\", hash = \"sha256:816f5285d596062c7ef22790de7d75354b58d4417a9fc64cba914aeeb900db0b\"},\n+    {file = \"Cython-3.0.7-cp39-cp39-manylinux_2_17_x86_64.manylinux2014_x86_64.whl\", hash = \"sha256:b9d0dae6dccd349b8ccf197c10ef2d05c711ca36a649c7eddbab1de2c90b63a1\"},\n+    {file = \"Cython-3.0.7-cp39-cp39-manylinux_2_5_i686.manylinux1_i686.manylinux_2_17_i686.manylinux2014_i686.whl\", hash = \"sha256:13211b67b29f6ed8e87c137496c73d93aff0330d97940b4fbed72eae37a4a2a0\"},\n+    {file = \"Cython-3.0.7-cp39-cp39-musllinux_1_1_aarch64.whl\", hash = \"sha256:b1853bc34ced5ff6473e881fcf6de29da83262552c8f268a0df53b49c2b89e2c\"},\n+    {file = \"Cython-3.0.7-cp39-cp39-musllinux_1_1_x86_64.whl\", hash = \"sha256:51e8164b1270625ff101e95c3c1c234421520c07a0a3a20ded9e9431d98afce7\"},\n+    {file = \"Cython-3.0.7-cp39-cp39-win32.whl\", hash = \"sha256:45319d2471f4dbf19893ca53785a421107266e18b8cccd2054fce1e3f72a85f1\"},\n+    {file = \"Cython-3.0.7-cp39-cp39-win_amd64.whl\", hash = \"sha256:612d83fd1eb5aaa5401a755c1f1aafacd9dab404cd350b90d5f404c98b33e4b3\"},\n+    {file = \"Cython-3.0.7-py2.py3-none-any.whl\", hash = \"sha256:936ec37b261b226d7404eff23a9aad284098338150d42a53d6a9af12b18d3892\"},\n+    {file = \"Cython-3.0.7.tar.gz\", hash = \"sha256:fb299acf3a578573c190c858d49e0cf9d75f4bc49c3f24c5a63804997ef09213\"},\n ]\n \n [[package]]\n@@ -1210,6 +1203,21 @@ urllib3 = \">=1.21.1,<3\"\n socks = [\"PySocks (>=1.5.6,!=1.5.7)\"]\n use-chardet-on-py3 = [\"chardet (>=3.0.2,<6)\"]\n \n+[[package]]\n+name = \"restrictedpython\"\n+version = \"7.0\"\n+description = \"RestrictedPython is a defined subset of the Python language which allows to provide a program input into a trusted environment.\"\n+optional = false\n+python-versions = \">=3.7, <3.13\"\n+files = [\n+    {file = \"RestrictedPython-7.0-py3-none-any.whl\", hash = \"sha256:8bb40a822090bed9c7b814d69345b0796db70cc86715d141efc937862f37c6d2\"},\n+    {file = \"RestrictedPython-7.0.tar.gz\", hash = \"sha256:53704afbbc350fdc8fb245441367be671c9f8380869201b2e8452e74fce3db14\"},\n+]\n+\n+[package.extras]\n+docs = [\"Sphinx\", \"sphinx-rtd-theme\"]\n+test = [\"pytest\", \"pytest-mock\"]\n+\n [[package]]\n name = \"rich\"\n version = \"13.7.0\"\n@@ -1729,4 +1737,4 @@ testing = [\"big-O\", \"jaraco.functools\", \"jaraco.itertools\", \"more-itertools\", \"p\n [metadata]\n lock-version = \"2.0\"\n python-versions = \">=3.9,<3.13\"\n-content-hash = \"1259ac52488590b7b52baea89a4e48f045f8baa86e007199239b92ce7625bff1\"\n+content-hash = \"e2c1e9e2f6c7da35bba6c840ba144da6e3f51466e64311b5e473b3ca3f4450b1\""
        },
        {
            "filename": "pyproject.toml",
            "diff": "@@ -1,6 +1,6 @@\n [tool.poetry]\n name = \"manim-studio\"\n-version = \"0.6.6\"\n+version = \"0.6.8\"\n description = \"A GUI to easier make Manim animations\"\n authors = [\"MathLike\"]\n readme = \"README.md\"\n@@ -19,6 +19,7 @@ PyQt6 = \">=6.6.0\"\n PyQt6-QScintilla = \">=2.14.1\"\n dill = \">=0.3.7\"\n setuptools = \">=68.2.2\"\n+RestrictedPython = \">=7.0\"\n \n [tool.poetry.dev-dependencies]\n furo = \">=2023.9.10\""
        },
        {
            "filename": "src/manim_studio/__main__.py",
            "diff": "@@ -9,18 +9,7 @@\n from manim import config, Scene\n import sys\n import argparse\n-import importlib.util\n-from pathlib import Path\n-\n-\n-def import_from_file(file_name):\n-    file_name = Path(file_name)\n-    if file_name.suffix != \".py\":\n-        raise ValueError(\"File name must end with .py\")\n-    spec = importlib.util.spec_from_file_location(file_name.stem, file_name)\n-    module = importlib.util.module_from_spec(spec)\n-    spec.loader.exec_module(module)\n-    return module\n+from manim_studio.import_from_file import import_from_file\n \n \n def main():"
        },
        {
            "filename": "src/manim_studio/import_from_file.py",
            "diff": "@@ -0,0 +1,12 @@\n+from pathlib import Path\n+import importlib.util\n+\n+\n+def import_from_file(file_name):\n+    file_name = Path(file_name)\n+    if file_name.suffix != \".py\":\n+        raise ValueError(\"File name must end with .py\")\n+    spec = importlib.util.spec_from_file_location(file_name.stem, file_name)\n+    module = importlib.util.module_from_spec(spec)\n+    spec.loader.exec_module(module)\n+    return module\n\\ No newline at end of file"
        },
        {
            "filename": "src/manim_studio/live_scene.py",
            "diff": "@@ -14,6 +14,35 @@\n from manim_studio.value_trackers.list_value_tracker import ListValueTracker\n from manim_studio.value_trackers.dot_tracker import DotTracker\n import time\n+import manim\n+\n+del sys\n+\n+\n+def write_guard():\n+    from RestrictedPython.Guards import _write_wrapper\n+    safetypes = {dict, list, Scene, Mobject, Animation}\n+    Wrapper = _write_wrapper()\n+\n+    def guard(ob):\n+        if type(ob) in safetypes or hasattr(ob, '_guarded_writes'):\n+            return ob\n+        return Wrapper(ob)\n+    return guard\n+\n+\n+def safe_exec(code: str, current_globals: dict) -> None:\n+    from RestrictedPython import compile_restricted, utility_builtins, safe_builtins, limited_builtins\n+    from RestrictedPython.PrintCollector import PrintCollector\n+\n+    safe_builtins[\"_print_\"] = PrintCollector\n+    safe_builtins[\"_getattr_\"] = getattr\n+    safe_builtins[\"_write_\"] = write_guard()\n+    safe_globals = {\"__builtins__\": safe_builtins}\n+    safe_globals[\"__builtins__\"].update(limited_builtins)\n+    safe_globals[\"__builtins__\"].update(utility_builtins)\n+\n+    exec(compile_restricted(code, '<inline>', 'exec'), safe_globals, current_globals)\n \n \n class LiveScene(Scene):\n@@ -32,6 +61,10 @@ def __init__(\n         self.__communicate = communicate\n         super().__init__(**kwargs)\n         self.__codes = []\n+        if module is manim:\n+            self.module_file_name = None\n+        else:\n+            self.module_file_name = str(Path(module.__file__).absolute())\n         globals()[\"self\"] = self\n         self.__current_globals = globals().copy()\n         self.__value_trackers_code = \"\"\n@@ -42,7 +75,6 @@ def __init__(\n         self.__mro_without_live_scene = list(\n             map(lambda x: x.__name__, mro_without_live_scene))\n         self.__value_trackers = {}\n-        globals().update(module.__dict__)\n         globals()[\"self\"] = self\n         del globals()[\"console\"]\n         del globals()[\"error_console\"]\n@@ -131,6 +163,35 @@ def add_button(self, name: str, command: str, shortcut: str):\n         if self.__error:\n             self.__error = False\n             \n+    def __guarded_setattr__(self, name: str, value: Any) -> None:\n+        if name.startswith(\"_\"):\n+            raise AttributeError(\n+                \"Cannot set attribute starting with '_'\")\n+        if name in self.__value_trackers:\n+            raise AttributeError(\n+                \"Cannot set attribute that is already a value tracker\")\n+        if name in self.__secrets:\n+            raise AttributeError(\n+                \"Cannot set attribute that is already a secret\")\n+        if hasattr(Scene(), name):\n+            raise AttributeError(\n+                \"Cannot set internal attribute\")\n+        setattr(self, name, value)\n+    \n+    def __guarded_delattr__(self, name: str) -> None:\n+        if name.startswith(\"_\"):\n+            raise AttributeError(\n+                \"Cannot delete attribute starting with '_'\")\n+        if name in self.__value_trackers:\n+            raise AttributeError(\n+                \"Cannot delete attribute that is already a value tracker\")\n+        if name in self.__secrets:\n+            raise AttributeError(\n+                \"Cannot delete attribute that is already a secret\")\n+        if hasattr(Scene(), name):\n+            raise AttributeError(\n+                \"Cannot delete internal attribute\")\n+        delattr(self, name)\n \n     def wait(self, duration: float = 1.0, stop_condition: Callable[[], bool] | None = None, frozen_frame: bool | None = False):\n         super().wait(duration, stop_condition, frozen_frame)\n@@ -159,6 +220,7 @@ def __get_code(self) -> str:\n         state\n             The name of the state.\n         \"\"\"\n+        from manim_studio.import_from_file import import_from_file\n         CODE = \"\"\"from manim import *\n from manim_studio.value_trackers.boolean_value_tracker import BooleanValueTracker\n from manim_studio.value_trackers.string_value_tracker import StringValueTracker\n@@ -168,8 +230,15 @@ def __get_code(self) -> str:\n from manim_studio.value_trackers.dot_tracker import DotTracker\n from manim_studio.value_trackers.list_value_tracker import ListValueTracker\n from manim_studio.load_mobject import load_mobject\n+{}\n from typing import Callable\n import time\n+import math\n+import random\n+import string\n+\n+\n+{}\n \n \n config.frame_rate = {}\n@@ -195,8 +264,10 @@ def print_gui(self, text: str) -> None:\n         print(text)\n \"\"\"\n         if not self.__codes or all(code.strip() == \"\" for code in self.__codes):\n-            return CODE.format(str(config.frame_rate), str(config.frame_width), str(config.frame_height), str(config.pixel_width), str(config.pixel_height), str(config.background_color.to_hex()).__repr__(), \",\".join(self.__mro_without_live_scene), self.__value_trackers_code, \"pass\")\n-        return CODE.format(str(config.frame_rate), str(config.frame_width), str(config.frame_height), str(config.pixel_width), str(config.pixel_height), str(config.background_color.to_hex()).__repr__(), ','.join(self.__mro_without_live_scene), self.__value_trackers_code, \"\\n        \".join(line for lines in self.__codes for line in lines.split(\"\\n\")))\n+            return CODE.format(\"\" if self.module_file_name is None else \"from manim_studio.import_from_file import import_from_file\", f\"import_from_file({self.module_file_name.__repr__()})\" if self.module_file_name is not None else \"\",\n+                               str(config.frame_rate), str(config.frame_width), str(config.frame_height), str(config.pixel_width), str(config.pixel_height), str(config.background_color.to_hex()).__repr__(), \",\".join(self.__mro_without_live_scene), self.__value_trackers_code, \"pass\")\n+        return CODE.format(\"\" if self.module_file_name is None else \"from manim_studio.import_from_file import import_from_file\", f\"import_from_file({self.module_file_name.__repr__()})\" if self.module_file_name is not None else \"\",\n+                           str(config.frame_rate), str(config.frame_width), str(config.frame_height), str(config.pixel_width), str(config.pixel_height), str(config.background_color.to_hex()).__repr__(), ','.join(self.__mro_without_live_scene), self.__value_trackers_code, \"\\n        \".join(line for lines in self.__codes for line in lines.split(\"\\n\")))\n \n     def construct(self):\n         self.wait(1 / self.camera.frame_rate)\n@@ -239,7 +310,7 @@ def __run_current_code(self) -> None:\n             if append_code:\n                 self.__communicate.save_state.emit()\n             try:\n-                exec(code, self.__current_globals)\n+                safe_exec(code, self.__current_globals)\n             except EndSceneEarlyException:\n                 self.__finished = True\n                 self.__current_queue.clear()"
        },
        {
            "filename": "src/manim_studio/preview_widget.py",
            "diff": "@@ -32,6 +32,7 @@ def __init__(self, communicate: Communicate, screen_size: tuple[int, int], rende\n         super().__init__()\n         self.setWindowTitle(\"Preview\")\n         self.communicate = communicate\n+        self.mouse_coords = None\n         self.w, self.h = screen_size\n         self.interactive_mobjects: dict[str, Mobject] = {}\n         self.communicate.update_image.connect(self.update_image)\n@@ -59,9 +60,6 @@ def remove_from_interactive_mobjects(self, name: str):\n \n     def enable_interact(self, enable: bool):\n         self.enable = enable\n-        if not hasattr(self.scene, \"mouse\"):\n-            self.communicate.update_scene.emit(\n-                \"self.mouse = DotTracker()\")\n         if not hasattr(self.scene, \"drawings\"):\n             self.communicate.update_scene.emit(\n                 \"self.drawings = VGroup(VMobject().make_smooth())\\nself.add(self.drawings)\")\n@@ -75,14 +73,13 @@ def mouseMoveEvent(self, event: QMouseEvent):\n             x, y = convert_to_manim_coords(x, y, self.preview_label)\n         elif isinstance(self.scene, MovingCameraScene):\n             x, y = convert_to_manim_coords(x, y, self.preview_label, self.scene.camera.frame)\n-        self.communicate.update_scene.emit(\n-            f\"self.mouse.move_to(np.array([{x}, {y}, 0]))\")\n+        self.mouse_coords = x, y\n         if event.buttons() != Qt.MouseButton.LeftButton:\n             return\n         for name, mobject in self.interactive_mobjects.items():\n             center, width, height = mobject.get_center(), mobject.width, mobject.height\n             if center[0] - width / 2 <= x <= center[0] + width / 2 and center[1] - height / 2 <= y <= center[1] + height / 2:\n-                self.communicate.update_scene.emit(f\"getattr(self, {name.__repr__()}).move_to(self.mouse.get_center())\")\n+                self.communicate.update_scene.emit(f\"getattr(self, {name.__repr__()}).move_to(np.array([{x}, {y}, 0]))\")\n                 break\n \n     def mousePressEvent(self, event: QMouseEvent):\n@@ -137,14 +134,14 @@ def keyPressEvent(self, event: QKeyEvent):\n             self.communicate.update_scene.emit(\n                 \"self.camera.frame.scale_to_fit_height(config.frame_height).move_to(np.array([0, 0, 0]))\")\n         if key == Qt.Key.Key_H:\n-            x, y = self.scene.mouse.get_center()[:2]\n+            x, y = self.mouse_coords\n             for name, mobject in self.interactive_mobjects.items():\n                 center, width, height = mobject.get_center(), mobject.width, mobject.height\n                 if center[0] - width / 2 <= x <= center[0] + width / 2 and center[1] - height / 2 <= y <= center[1] + height / 2:\n                     self.communicate.update_scene.emit(f\"self.play(Indicate(getattr(self, {name.__repr__()})))\")\n                     break\n         if key == Qt.Key.Key_C:\n-            x, y = self.scene.mouse.get_center()[:2]\n+            x, y = self.mouse_coords\n             for name, mobject in self.interactive_mobjects.items():\n                 center, width, height = mobject.get_center(), mobject.width, mobject.height\n                 if center[0] - width / 2 <= x <= center[0] + width / 2 and center[1] - height / 2 <= y <= center[1] + height / 2:"
        }
    ],
    "commitTime": "2023-12-21 15:58:59"
}